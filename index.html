<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto:400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script>
      const getMessagesAndAnswer = () => {
        window.addEventListener("message", function(message) {
          if (message.origin == "http://localhost:3000" || "https://www.spotted.wtf") {
            if (message.data == "init") {
              const h = document.querySelectorAll("h1, h2, h3, h4, h5, h6, li, p, div, span, mark, ins, del, sup, sub, small, i, b, blockquote, q, strong, em");
              let tagId = 0;
              h.forEach ((tag) => {
                tag.setAttribute("id", `${tagId}`);
                if (tag.childNodes[0] && tag.childNodes[0].textContent.trim() != "") {
                  tagId += 1;
                  tag.contentEditable = "true";
                  tag.addEventListener("click", () => {
                    const old_content = `${tag.id}-${tag.innerText}`;
                    message.source.postMessage(`${old_content}ยง`, message.origin);
                  }, { once: true });
                  tag.addEventListener("keyup", () => {
                      const new_content = `${tag.id}-${tag.innerText}`;
                      message.source.postMessage(`${new_content}`, message.origin)
                  });
                } else {
                return;
                }
                console.log(tag)
              })
            }
          }
        });
      }
      getMessagesAndAnswer();
  </script>
</head>
<body>
  <div class="container">
    <div class="card-white text-align">
      <h1>Hello, I'm Alex!</h1>
      <h2>Programmer @LeWagon</h2>
      <img src="images/profil_picture.JPG" alt="profile picture" width="300px" class="avatar-rounded">
      <p>
        Learning to code @LeWagon Paris. Gaudelet #350
      </p>
      <a href="https://www.lewagon.com/" target="_blank" class="btn-red">Discover Le Wagon</a>
    </div>
    <div class="card-white text-align" id="footer">
      <h3>Stay connected</h3>
      <ul class="list-inline">
        <li>
          <a href="https://www.linkedin.com/in/alexander-douglas-533a37144/" target="_blank"><i class="fab fa-linkedin"></i></a>
        </li>
        <li>
          <a href="https://github.com/alexdougls" target="_blank"><i class="fab fa-github-square"></i></a>
        </li>
        <li>
          <a href="https://www.facebook.com/alex.douglas.77312" target="_blank"><i class="fab fa-facebook-square"></i></a>
        </li>
        <li>
          <a href="mailto:alexdouglas@hotmail.fr" target="_blank"><i class="fas fa-envelope"></i></i></a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>
